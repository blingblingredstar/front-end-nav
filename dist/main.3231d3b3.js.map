{"version":3,"sources":["js/main.js"],"names":["getState","defaultState","logo","type","content","url","name","state","JSON","parse","localStorage","getItem","Array","isArray","setState","newState","setItem","stringify","render","$","find","remove","$siteAdd","forEach","item","index","$li","insertBefore","on","deleteSite","showModal","tops","document","scrollTop","bind","css","window","pageYOffset","removeClass","closeModal","unbind","addClass","addSite","e","stopPropagation","val","newItem","toLocaleUpperCase","concat","parent","data","splice"],"mappings":"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","file":"main.3231d3b3.js","sourceRoot":"../src","sourcesContent":["const getState = () => {\n  const defaultState = [\n    {\n      logo: {\n        type: 'String',\n        content: 'F',\n      },\n      url: 'https://www.freecodecamp.org/',\n      name: 'freeCodeCamp',\n    },\n    {\n      logo: {\n        type: 'String',\n        content: 'C',\n      },\n      url: 'https://css-tricks.com/',\n      name: 'CSS-TRICKS',\n    },\n    {\n      logo: {\n        type: 'String',\n        content: 'R',\n      },\n      url: 'https://zh-hans.reactjs.org/',\n      name: 'React中文文档',\n    },\n    {\n      logo: {\n        type: 'String',\n        content: 'V',\n      },\n      url: 'https://cn.vuejs.org/index.html',\n      name: 'Vue中文文档',\n    },\n    {\n      logo: {\n        type: 'String',\n        content: 'A',\n      },\n      url: 'https://angular.cn/',\n      name: 'angular中文文档',\n    },\n  ]\n  const state = JSON.parse(localStorage.getItem('state'))\n\n  if (Array.isArray(state)) {\n    return state\n  } else {\n    return defaultState\n  }\n}\n\nconst setState = (newState) => {\n  localStorage.setItem('state', JSON.stringify(newState))\n  render(newState)\n}\n\nconst render = (state) => {\n  $('.site-list')\n    .find('li:not(.site-add)')\n    .remove()\n  const $siteAdd = $('.site-add')\n  state.forEach((item, index) => {\n    const $li = $(`<li class=\"site-item\" data-index=\"${index}\">\n        <a href=\"${item.url}\">\n          <div class=\"site-logo\">\n            ${\n              item.logo.type === 'String'\n                ? item.logo.content\n                : `<img src=\"${item.logo.content}\" alt=\"${item.name}\" class=\"site-logo-img\"/>`\n            }\n          </div>\n          <div class=\"site-name\">${item.name}</div>\n        </a>\n        <div class=\"site-item-close\">\n          <svg\n            t=\"1572014249855\"\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"2878\"\n       \n          >\n            <path\n              d=\"M515.236 491.069l-136.96-136.96a17.092 17.092 0 1 0-24.18 24.155l136.961 136.972-136.96 136.972a17.092 17.092 0 1 0 24.167 24.167l136.972-136.96 136.972 136.96a17.092 17.092 0 1 0 24.167-24.156l-136.96-136.983 136.96-136.96a17.092 17.092 0 1 0-24.167-24.168l-136.96 136.96z\"\n              p-id=\"2879\"\n            ></path>\n          </svg>\n        </div>\n      </li>`)\n    $li.insertBefore($siteAdd)\n  })\n  $('.site-item-close').on('click', deleteSite)\n}\n\nconst showModal = () => {\n  // 锁定页面位置，禁止滚动\n  const tops = $(document).scrollTop()\n  $(document).bind('scroll', function() {\n    $(document).scrollTop(tops)\n  })\n  //\n  $('.modal-form')\n  $('.modal')\n    .css('margin-top', window.pageYOffset + 'px')\n    .removeClass('closed')\n}\n\nconst closeModal = () => {\n  $(document).unbind('scroll')\n\n  $('.modal').addClass('closed')\n}\n\nconst addSite = () => {\n  showModal()\n  $('.modal-btn').on('click', (e) => {\n    e.stopPropagation()\n    const url = $('.modal-input-url').val()\n    const name = $('.modal-input-name').val()\n\n    const newItem = {\n      logo: {\n        type: 'String',\n        content: name[0].toLocaleUpperCase(),\n      },\n      url,\n      name,\n    }\n    const state = getState()\n    const newState = state.concat([newItem])\n    setState(newState)\n\n    $('.modal-input-url').val('')\n    $('.modal-input-name').val('')\n\n    closeModal()\n  })\n\n  $('.modal-close').on('click', closeModal)\n}\n\nfunction deleteSite() {\n  const index = $(this)\n    .parent()\n    .data('index')\n\n  const state = getState()\n  state.splice(index, 1)\n  setState(state)\n}\n\n$('.site-add').on('click', addSite)\n\nrender(getState())\n"]}